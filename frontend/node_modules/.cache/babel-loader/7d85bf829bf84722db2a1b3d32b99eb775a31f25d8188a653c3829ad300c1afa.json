{"ast":null,"code":"import _slicedToArray from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import Navbar from\"./Navbar\";import{ref,uploadBytes,updateMetadata}from\"firebase/storage\";import{storage}from\"./firebase\";import{MdOutlineDriveFileMove}from\"react-icons/md\";import\"./App.css\";import{Appcontext}from\"./Navi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Addpost(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),typefile=_useState2[0],settypefile=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],settext=_useState4[1];var _useContext=useContext(Appcontext),userauth=_useContext.userauth;var handleclick=function handleclick(){if(typefile==null)return;var metadata={customMetadata:{uid:userauth.uid,name:userauth.displayName,email:userauth.email}};console.log(metadata);var imageref=ref(storage,\"Post/\".concat(typefile.name+userauth.uid+userauth.displayName));uploadBytes(imageref,typefile).then(function(){settext(\"image uploaded\");});updateMetadata(imageref,metadata).then(function(met){console.log(met);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fileupload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"up\",style:{display:\"none\"},onChange:function onChange(e){settypefile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"label\",{for:\"up\",style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(MdOutlineDriveFileMove,{size:100})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn2\",onClick:handleclick,children:\"AddPost\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"center\",{className:\"text1\",style:{color:\"burlywood\",fontFamily:\"fantasy\",fontSize:\"larger\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\"}),/*#__PURE__*/_jsx(\"center\",{children:text})]})]});}export default Addpost;","map":{"version":3,"names":["React","useContext","useState","Navbar","ref","uploadBytes","updateMetadata","storage","MdOutlineDriveFileMove","Appcontext","jsx","_jsx","jsxs","_jsxs","Addpost","_useState","_useState2","_slicedToArray","typefile","settypefile","_useState3","_useState4","text","settext","_useContext","userauth","handleclick","metadata","customMetadata","uid","name","displayName","email","console","log","imageref","concat","then","met","catch","error","children","className","type","id","style","display","onChange","e","target","files","for","cursor","size","onClick","color","fontFamily","fontSize"],"sources":["E:/my-app/src/Addpost.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { ref, uploadBytes ,updateMetadata} from \"firebase/storage\";\r\nimport { storage } from \"./firebase\";\r\nimport { MdOutlineDriveFileMove } from \"react-icons/md\";\r\nimport \"./App.css\";\r\nimport { Appcontext } from \"./Navi\";\r\n\r\n\r\nfunction Addpost() {\r\n    const [typefile,settypefile] = useState();\r\n    const [text,settext] = useState(\"\");\r\n    const {userauth} = useContext(Appcontext);\r\n    const handleclick = () => {\r\n    if(typefile== null) return;\r\n    const metadata = {\r\n     customMetadata:{\r\n        uid:userauth.uid,\r\n        name:userauth.displayName,\r\n        email:userauth.email,\r\n     }\r\n    }\r\n    console.log(metadata);\r\n    const imageref = ref(storage,`Post/${typefile.name +userauth.uid+userauth.displayName}`);\r\n    uploadBytes(imageref,typefile).then(()=>{settext(\"image uploaded\")})\r\n    updateMetadata(imageref,metadata).then((met)=>{console.log(met)}).catch((error)=>{console.log(error)});\r\n    }\r\n\r\n    return ( <div>\r\n    <Navbar />\r\n    <div className=\"d-flex align-items-center justify-content-center\">\r\n    <div className=\"fileupload\">\r\n        <input  type=\"file\" id=\"up\" style={{display:\"none\"}} onChange={(e)=>{settypefile(e.target.files[0])}}/>\r\n        <label for=\"up\" style={{cursor:\"pointer\"}}><MdOutlineDriveFileMove size={100} ></MdOutlineDriveFileMove></label>\r\n        <br></br>\r\n        <button type=\"submit\" className=\"btn2\" onClick={handleclick}>AddPost</button>\r\n    </div>\r\n    </div>\r\n    <br></br>\r\n    <center className=\"text1\" style={{color:\"burlywood\",fontFamily:\"fantasy\",fontSize:\"larger\"}}>\r\n    <input type=\"text\"/>\r\n    {<center>{text}</center>}</center>\r\n    \r\n    </div>);\r\n}\r\n\r\n\r\nexport default  Addpost;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}