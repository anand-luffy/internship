{"ast":null,"code":"import _regeneratorRuntime from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from'react';import'./App.css';import{db}from'./firebase';import{collection,getDocs,addDoc,doc,updateDoc,deleteDoc}from'firebase/firestore';import{auth}from'./firebase';import{useAuthState}from'react-firebase-hooks/auth';import{useState}from'react';import Collection from'./collection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _auth$currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setusers=_useState2[1];var _useState3=useState((_auth$currentUser=auth.currentUser)===null||_auth$currentUser===void 0?void 0:_auth$currentUser.displayName),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setname=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setage=_useState6[1];var userref=collection(db,\"testapp\");var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setstate=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),des=_useState10[0],setdes=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),update=_useState12[0],setupdate=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),id=_useState14[0],setid=_useState14[1];var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,1),author=_useAuthState2[0];useEffect(function(){var getuser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(userref);case 2:data=_context.sent;console.log(data.docs);setusers(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));case 5:case\"end\":return _context.stop();}},_callee);}));return function getuser(){return _ref.apply(this,arguments);};}();getuser();},[]);var handlename=function handlename(event){setname(event.target.value);};var handleage=function handleage(e){setage(e.target.value);};var handledes=function handledes(e){setdes(e.target.value);};var createuser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return addDoc(userref,{name:name,age:Number(age),description:des});case 2:setstate(!state);case 3:case\"end\":return _context2.stop();}},_callee2);}));return function createuser(){return _ref2.apply(this,arguments);};}();var updateuser=function updateuser(id,name,age,description){setid(id);setname(name);setdes(description);setage(age);setupdate(!update);};var updateuserdoc=function updateuserdoc(){var up=doc(db,\"testapp\",id);var newdata={name:name,age:Number(age),description:des};updateDoc(up,newdata);setupdate(!update);};var deleteuser=function deleteuser(id){var userdoc=doc(db,\"testapp\",id);deleteDoc(userdoc);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",onClick:function onClick(){setstate(!state);},children:\"Add user\"}),state&&/*#__PURE__*/_jsxs(\"div\",{className:\"addcard\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handlename,placeholder:\"..name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleage,placeholder:\"..age\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handledes,placeholder:\"..about\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",onClick:createuser,children:\"Add\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",style:{backgroundColor:'red'},onClick:function onClick(){setstate(!state);},children:\"close\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"please note once add refresh page\"})]}),update&&/*#__PURE__*/_jsxs(\"div\",{className:\"addcard\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handlename,placeholder:\"..name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleage,placeholder:\"..age\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handledes,placeholder:\"..about\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",onClick:updateuserdoc,children:\"update\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"please note :  change field want , other automatically update previous  and once add refresh page\"})]})]}),user.map(function(person){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Collection,{person:person,onupdateuser:updateuser,ondeleteuser:deleteuser})});})]});}export default App;","map":{"version":3,"names":["useEffect","db","collection","getDocs","addDoc","doc","updateDoc","deleteDoc","auth","useAuthState","useState","Collection","jsx","_jsx","jsxs","_jsxs","App","_auth$currentUser","_useState","_useState2","_slicedToArray","user","setusers","_useState3","currentUser","displayName","_useState4","name","setname","_useState5","_useState6","age","setage","userref","_useState7","_useState8","state","setstate","_useState9","_useState10","des","setdes","_useState11","_useState12","update","setupdate","_useState13","_useState14","id","setid","_useAuthState","_useAuthState2","author","getuser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","console","log","docs","map","_objectSpread","stop","apply","arguments","handlename","event","target","value","handleage","e","handledes","createuser","_ref2","_callee2","_callee2$","_context2","Number","description","updateuser","updateuserdoc","up","newdata","deleteuser","userdoc","className","children","type","onClick","onChange","placeholder","style","backgroundColor","person","onupdateuser","ondeleteuser"],"sources":["E:/my-app/src/App.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport './App.css';\r\nimport { db } from './firebase';\r\nimport {collection,getDocs,addDoc,doc,updateDoc,deleteDoc} from 'firebase/firestore';\r\nimport { auth } from './firebase';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useState } from 'react';\r\nimport Collection from './collection';\r\n\r\nfunction App() {\r\n  const [user,setusers] = useState([]);\r\n  const [name,setname] = useState(auth.currentUser?.displayName);\r\n  const [age,setage] = useState(0);\r\n  const userref = collection(db,\"testapp\");\r\n  const [state,setstate] = useState(false);\r\n  const [des,setdes] = useState(\"\");\r\n  const [update,setupdate] = useState(false);\r\n  const [id,setid] = useState();\r\n  const [author] = useAuthState(auth);\r\n  useEffect(()=>{\r\n    const getuser = async() => {\r\n      const data = await getDocs(userref)\r\n      console.log(data.docs)\r\n      setusers(data.docs.map((doc)=>({...doc.data(),id:doc.id})));\r\n    }\r\n    getuser();\r\n  },[]);\r\n \r\n  const handlename = (event) => {\r\n    setname(event.target.value);\r\n  }\r\n  const handleage = (e) => {\r\n    setage(e.target.value);\r\n  }\r\n  const handledes = (e) => {\r\n    setdes(e.target.value);\r\n  }\r\n\r\n  const createuser = async() => {\r\n    await addDoc (userref, {\r\n      name:name,\r\n      age:Number(age),\r\n      description : des\r\n    });\r\n    setstate(!state);\r\n  }\r\n\r\n  const updateuser = (id,name,age,description) => {\r\n    setid(id);\r\n    setname(name);\r\n    setdes(description);\r\n    setage(age);\r\n    setupdate(!update);\r\n  }\r\n\r\n  const updateuserdoc = () =>{\r\n    const up = doc(db,\"testapp\",id);  \r\n    const newdata = {name:name,\r\n                    age:Number(age),\r\n                     description : des};   \r\n    updateDoc(up,newdata);\r\n    setupdate(!update);\r\n  }\r\n\r\n  const deleteuser = (id) => {\r\n    const userdoc = doc(db,\"testapp\",id);\r\n    deleteDoc(userdoc);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n    <center>\r\n    <button className='btn' type='submit' onClick={()=>{setstate(!state)}}>Add user</button>\r\n    { state &&\r\n    <div className='addcard'>\r\n    <input type='text' onChange={handlename} placeholder='..name'/>\r\n    <input type='text' onChange={handleage} placeholder='..age'/><br></br>\r\n    <input type='text' onChange={handledes} placeholder='..about'/><br></br>\r\n    <button className='btn' type='submit' onClick={createuser}>Add</button><br></br>\r\n    <button className='btn' type='submit' style={{backgroundColor:'red'}} onClick={()=>{setstate(!state)}}>close</button><br></br>\r\n    <h5>please note once add refresh page</h5>\r\n    </div>\r\n    }\r\n    {\r\n     update &&\r\n     <div className='addcard'>\r\n     <input type='text' onChange={handlename} placeholder='..name'/>\r\n     <input type='text' onChange={handleage} placeholder='..age'/><br></br>\r\n     <input type='text' onChange={handledes} placeholder='..about'/><br></br>\r\n     <button className='btn' type='submit' onClick={updateuserdoc}>update</button><br></br>\r\n     <h5>please note :  change field want , other automatically update previous  and once add refresh page</h5>\r\n     </div>\r\n\r\n     }\r\n    </center>\r\n    {user.map((person)=>{\r\n      return (<div>\r\n         <Collection person = {person}  onupdateuser = {updateuser}  ondeleteuser = {deleteuser} />  \r\n      </div>)\r\n    })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}