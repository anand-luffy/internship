{"ast":null,"code":"import _slicedToArray from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{storage}from\"./firebase\";import{deleteObject,getMetadata,ref}from\"firebase/storage\";import{FaUserTag}from\"react-icons/fa\";import'bootstrap/dist/css/bootstrap.css';import{useNavigate}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function Profilepost(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),metadata=_useState2[0],setmetadata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setstate=_useState4[1];var url1=new URL(props.url);var path=url1.pathname;var urlPath=path;var decodedPath=decodeURIComponent(urlPath.substring(urlPath.indexOf('/o/')+3));var forestref=ref(storage,decodedPath);var navigate=useNavigate();getMetadata(forestref).then(function(metadata1){setmetadata(metadata1.customMetadata);}).catch(function(error){console.log(error);});var handledelete=function handledelete(url){deleteObject(forestref).then(function(){console.log(\"imageDeletedSuccess\");}).catch(function(error){console.log(error);});props.onDelete(url,forestref);setstate(!state);// navigate(\"/profile\");\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card\",style:{width:\" 14rem\",cursor:\"pointer\"},onClick:function onClick(){//handledelete(props.url)\nsetstate(!state);},children:[/*#__PURE__*/_jsx(\"img\",{src:props.url,class:\"card-img-top\",style:{width:\"160px\",height:\"170px\"},alt:\"...\"}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsx(\"p\",{class:\"card-text\"})}),/*#__PURE__*/_jsxs(\"ul\",{class:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsxs(\"li\",{class:\"list-group-item\",children:[\"Post by \",/*#__PURE__*/_jsx(\"br\",{}),\"  \",/*#__PURE__*/_jsx(FaUserTag,{}),\" \",metadata===null||metadata===void 0?void 0:metadata.name,\" \"]}),/*#__PURE__*/_jsxs(\"li\",{class:\"list-group-item\",children:[\"Description \",/*#__PURE__*/_jsx(\"br\",{}),metadata===null||metadata===void 0?void 0:metadata.description,\" \"]})]})]}),state&&/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"modal-title\",id:\"exampleModalLongTitle\",children:\"Delete Message\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",onClick:function onClick(){setstate(!state);},children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:\"Are you sure you want to delete?\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",style:{width:\"50%\"},onClick:function onClick(){setstate(!state);},children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",style:{width:\"50%\"},\"data-dismiss\":\"modal\",onClick:function onClick(){handledelete(props.url);},children:\"delete\"})]})]})})]});}","map":{"version":3,"names":["React","useState","storage","deleteObject","getMetadata","ref","FaUserTag","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profilepost","props","_useState","_useState2","_slicedToArray","metadata","setmetadata","_useState3","_useState4","state","setstate","url1","URL","url","path","pathname","urlPath","decodedPath","decodeURIComponent","substring","indexOf","forestref","navigate","then","metadata1","customMetadata","catch","error","console","log","handledelete","onDelete","children","class","style","width","cursor","onClick","src","height","alt","name","description","id","type"],"sources":["E:/my-app/src/Profilepost.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { storage } from \"./firebase\";\r\nimport { deleteObject, getMetadata,ref} from \"firebase/storage\";\r\nimport {FaUserTag} from \"react-icons/fa\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { useNavigate } from \"react-router\";\r\n\r\nexport function Profilepost(props) {\r\n  \r\n  const [metadata,setmetadata] = useState({});\r\n  const [state,setstate] = useState(false);\r\n  const url1 = new URL(props.url);\r\n  const path = url1.pathname; \r\n  const urlPath = path;\r\n  const decodedPath = decodeURIComponent(urlPath.substring(urlPath.indexOf('/o/') + 3));\r\n  const forestref = ref(storage,decodedPath);\r\n  const navigate = useNavigate();\r\n  getMetadata(forestref).then((metadata1)=>{setmetadata(metadata1.customMetadata);}).catch((error)=>{console.log(error)})\r\n  const handledelete =(url) =>{\r\n   deleteObject(forestref).then(()=>{console.log(\"imageDeletedSuccess\")}).catch((error)=>{console.log(error)});\r\n   props.onDelete(url,forestref);\r\n   setstate(!state);\r\n   // navigate(\"/profile\");\r\n}\r\n\r\n  return ( \r\n   <>\r\n   <div  class=\"card\"  style={{width:\" 14rem\" ,cursor:\"pointer\"}} onClick={()=>{ //handledelete(props.url)\r\n     setstate(!state)}} >\r\n        <img src={props.url} class=\"card-img-top\" style={{width:\"160px\",height:\"170px\"}} alt=\"...\"/>\r\n          <div class=\"card-body\">\r\n            <p class=\"card-text\" ></p>\r\n          </div>\r\n        <ul class=\"list-group list-group-flush\">\r\n          <li class=\"list-group-item\">Post by <br></br>  <FaUserTag></FaUserTag> {metadata?.name} </li>\r\n          <li class=\"list-group-item\">Description <br></br>{metadata?.description} </li>\r\n        </ul>\r\n   </div> \r\n   { state &&\r\n    \r\n    <div class=\"card\" >\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Delete Message</h5>\r\n        <button type=\"button\" class=\"close\" onClick={()=>{setstate(!state)}}>\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        Are you sure you want to delete?\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" style={{width:\"50%\"}} onClick={()=>{setstate(!state)}}>Close</button>\r\n        <button type=\"button\" class=\"btn btn-danger\" style={{width:\"50%\"}} data-dismiss=\"modal\" onClick={()=>{handledelete(props.url)}}>delete</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n   }\r\n  \r\n   </>\r\n\r\n    );\r\n}\r\n\r\n"],"mappings":"+FAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,YAAY,CACpC,OAASC,YAAY,CAAEC,WAAW,CAACC,GAAG,KAAO,kBAAkB,CAC/D,OAAQC,SAAS,KAAO,gBAAgB,CACxC,MAAO,kCAAkC,CACzC,OAASC,WAAW,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE3C,MAAO,SAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAEjC,IAAAC,SAAA,CAA+Bf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApCG,QAAQ,CAAAF,UAAA,IAACG,WAAW,CAAAH,UAAA,IAC3B,IAAAI,UAAA,CAAyBpB,QAAQ,CAAC,KAAK,CAAC,CAAAqB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAACE,QAAQ,CAAAF,UAAA,IACrB,GAAM,CAAAG,IAAI,CAAG,GAAI,CAAAC,GAAG,CAACX,KAAK,CAACY,GAAG,CAAC,CAC/B,GAAM,CAAAC,IAAI,CAAGH,IAAI,CAACI,QAAQ,CAC1B,GAAM,CAAAC,OAAO,CAAGF,IAAI,CACpB,GAAM,CAAAG,WAAW,CAAGC,kBAAkB,CAACF,OAAO,CAACG,SAAS,CAACH,OAAO,CAACI,OAAO,CAAC,KAAK,CAAC,CAAG,CAAC,CAAC,CAAC,CACrF,GAAM,CAAAC,SAAS,CAAG9B,GAAG,CAACH,OAAO,CAAC6B,WAAW,CAAC,CAC1C,GAAM,CAAAK,QAAQ,CAAG7B,WAAW,CAAC,CAAC,CAC9BH,WAAW,CAAC+B,SAAS,CAAC,CAACE,IAAI,CAAC,SAACC,SAAS,CAAG,CAAClB,WAAW,CAACkB,SAAS,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,CAAG,CAACC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC,CAAC,CACvH,GAAM,CAAAG,YAAY,CAAE,QAAd,CAAAA,YAAYA,CAAGjB,GAAG,CAAI,CAC3BxB,YAAY,CAACgC,SAAS,CAAC,CAACE,IAAI,CAAC,UAAI,CAACK,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,EAAC,CAAC,CAACH,KAAK,CAAC,SAACC,KAAK,CAAG,CAACC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC,CAAC,CAC3G1B,KAAK,CAAC8B,QAAQ,CAAClB,GAAG,CAACQ,SAAS,CAAC,CAC7BX,QAAQ,CAAC,CAACD,KAAK,CAAC,CAChB;AACH,CAAC,CAEC,mBACCZ,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eACAnC,KAAA,QAAMoC,KAAK,CAAC,MAAM,CAAEC,KAAK,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAEC,MAAM,CAAC,SAAS,CAAE,CAACC,OAAO,CAAE,SAAAA,QAAA,CAAI,CAAE;AAC5E3B,QAAQ,CAAC,CAACD,KAAK,CAAC,EAAE,CAAAuB,QAAA,eACfrC,IAAA,QAAK2C,GAAG,CAAErC,KAAK,CAACY,GAAI,CAACoB,KAAK,CAAC,cAAc,CAACC,KAAK,CAAE,CAACC,KAAK,CAAC,OAAO,CAACI,MAAM,CAAC,OAAO,CAAE,CAACC,GAAG,CAAC,KAAK,CAAC,CAAC,cAC1F7C,IAAA,QAAKsC,KAAK,CAAC,WAAW,CAAAD,QAAA,cACpBrC,IAAA,MAAGsC,KAAK,CAAC,WAAW,CAAK,CAAC,CACvB,CAAC,cACRpC,KAAA,OAAIoC,KAAK,CAAC,6BAA6B,CAAAD,QAAA,eACrCnC,KAAA,OAAIoC,KAAK,CAAC,iBAAiB,CAAAD,QAAA,EAAC,UAAQ,cAAArC,IAAA,QAAQ,CAAC,KAAE,cAAAA,IAAA,CAACH,SAAS,GAAY,CAAC,IAAC,CAACa,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEoC,IAAI,CAAC,GAAC,EAAI,CAAC,cAC7F5C,KAAA,OAAIoC,KAAK,CAAC,iBAAiB,CAAAD,QAAA,EAAC,cAAY,cAAArC,IAAA,QAAQ,CAAC,CAACU,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEqC,WAAW,CAAC,GAAC,EAAI,CAAC,EAC5E,CAAC,EACL,CAAC,CACJjC,KAAK,eAENd,IAAA,QAAKsC,KAAK,CAAC,MAAM,CAAAD,QAAA,cACjBnC,KAAA,QAAKoC,KAAK,CAAC,eAAe,CAAAD,QAAA,eACxBnC,KAAA,QAAKoC,KAAK,CAAC,cAAc,CAAAD,QAAA,eACvBrC,IAAA,OAAIsC,KAAK,CAAC,aAAa,CAACU,EAAE,CAAC,uBAAuB,CAAAX,QAAA,CAAC,gBAAc,CAAI,CAAC,cACtErC,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACX,KAAK,CAAC,OAAO,CAACI,OAAO,CAAE,SAAAA,QAAA,CAAI,CAAC3B,QAAQ,CAAC,CAACD,KAAK,CAAC,EAAE,CAAAuB,QAAA,cAClErC,IAAA,SAAM,cAAY,MAAM,CAAAqC,QAAA,CAAC,MAAO,CAAM,CAAC,CACjC,CAAC,EACN,CAAC,cACNrC,IAAA,QAAKsC,KAAK,CAAC,YAAY,CAAAD,QAAA,CAAC,kCAExB,CAAK,CAAC,cACNnC,KAAA,QAAKoC,KAAK,CAAC,cAAc,CAAAD,QAAA,eACvBrC,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACX,KAAK,CAAC,mBAAmB,CAACC,KAAK,CAAE,CAACC,KAAK,CAAC,KAAK,CAAE,CAACE,OAAO,CAAE,SAAAA,QAAA,CAAI,CAAC3B,QAAQ,CAAC,CAACD,KAAK,CAAC,EAAE,CAAAuB,QAAA,CAAC,OAAK,CAAQ,CAAC,cACrHrC,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACX,KAAK,CAAC,gBAAgB,CAACC,KAAK,CAAE,CAACC,KAAK,CAAC,KAAK,CAAE,CAAC,eAAa,OAAO,CAACE,OAAO,CAAE,SAAAA,QAAA,CAAI,CAACP,YAAY,CAAC7B,KAAK,CAACY,GAAG,CAAC,EAAE,CAAAmB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC5I,CAAC,EACH,CAAC,CACH,CAAC,EAGH,CAAC,CAGN"},"metadata":{},"sourceType":"module","externalDependencies":[]}