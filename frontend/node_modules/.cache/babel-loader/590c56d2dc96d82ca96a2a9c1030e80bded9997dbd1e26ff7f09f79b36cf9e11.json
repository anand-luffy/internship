{"ast":null,"code":"import _slicedToArray from\"E:/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import Navbar from\"./Navbar\";import{ref,uploadBytes}from\"firebase/storage\";import{storage}from\"./firebase\";import{MdOutlineDriveFileMove}from\"react-icons/md\";import\"./App.css\";import{Appcontext}from\"./Navi\";import'bootstrap/dist/css/bootstrap.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Addpost(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),typefile=_useState2[0],settypefile=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],settext=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setdescription=_useState6[1];var _useContext=useContext(Appcontext),userauth=_useContext.userauth;var handleclick=function handleclick(){if(typefile==null)return;var metadata={customMetadata:{uid:userauth.uid,name:userauth.displayName,email:userauth.email,description:description}};console.log(metadata);var filename=\"Post/\".concat(typefile.name+userauth.uid+userauth.displayName);var filename2=\"Metadata/\".concat(userauth.uid+userauth.displayName,\".json\");var imageref=ref(storage,filename);var imageref2=ref(storage,filename2);uploadBytes(imageref,typefile,metadata).then(function(){settext(\"image uploaded\");});//updateMetadata(imageref,metadata).then((met)=> {console.log(met)}).catch((error)=>{console.log(error)});\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{class:\"card\",style:{width:\"27rem\",height:\"27rem\",float:\"none\",display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"fileupload\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"up\",style:{display:\"none\"},onChange:function onChange(e){settypefile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"label\",{for:\"up\",style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(MdOutlineDriveFileMove,{size:100})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn2\",onClick:handleclick,children:\"AddPost\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setdescription(e.target.value);},placeholder:\"Description..\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"center\",{className:\"text1\",style:{color:\"burlywood\",fontFamily:\"fantasy\",fontSize:\"larger\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\"}),/*#__PURE__*/_jsx(\"center\",{class:\"carousel\",children:text})]})]});}export default Addpost;","map":{"version":3,"names":["React","useContext","useState","Navbar","ref","uploadBytes","storage","MdOutlineDriveFileMove","Appcontext","jsx","_jsx","jsxs","_jsxs","Addpost","_useState","_useState2","_slicedToArray","typefile","settypefile","_useState3","_useState4","text","settext","_useState5","_useState6","description","setdescription","_useContext","userauth","handleclick","metadata","customMetadata","uid","name","displayName","email","console","log","filename","concat","filename2","imageref","imageref2","then","children","class","style","width","height","float","display","marginLeft","marginRight","className","type","id","onChange","e","target","files","for","cursor","size","onClick","value","placeholder","color","fontFamily","fontSize"],"sources":["E:/my-app/src/Addpost.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { ref, uploadBytes} from \"firebase/storage\";\r\nimport { storage } from \"./firebase\";\r\nimport { MdOutlineDriveFileMove } from \"react-icons/md\";\r\nimport \"./App.css\";\r\nimport { Appcontext } from \"./Navi\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n\r\nfunction Addpost() {\r\n    const [typefile,settypefile] = useState();\r\n    const [text,settext] = useState(\"\");\r\n    const [description,setdescription] = useState(\"\");\r\n    const {userauth} = useContext(Appcontext);\r\n    const handleclick = () => {\r\n    if(typefile== null) return;\r\n    const metadata = {\r\n        customMetadata:{\r\n        uid:userauth.uid,\r\n        name:userauth.displayName,\r\n        email:userauth.email,\r\n        description :description,\r\n        }\r\n      }\r\n      console.log(metadata);\r\n\r\n    const filename = `Post/${typefile.name +userauth.uid+userauth.displayName}`;\r\n    const filename2 = `Metadata/${userauth.uid+userauth.displayName}.json`;\r\n    const imageref = ref(storage,filename);\r\n    const imageref2 = ref(storage,filename2);\r\n    uploadBytes(imageref,typefile,metadata).then(()=>{settext(\"image uploaded\")})\r\n    //updateMetadata(imageref,metadata).then((met)=> {console.log(met)}).catch((error)=>{console.log(error)});\r\n\r\n}\r\n\r\n    return ( <div>\r\n    <Navbar />\r\n    <div class=\"card\" style={{width:\"27rem\",height:\"27rem\",float:\"none\",display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n    <div className=\"fileupload\">\r\n        <br></br>\r\n        <input  type=\"file\" id=\"up\" style={{display:\"none\"}} onChange={(e)=>{settypefile(e.target.files[0])}}/>\r\n        <label for=\"up\" style={{cursor:\"pointer\"}}><MdOutlineDriveFileMove size={100} ></MdOutlineDriveFileMove></label>\r\n        <br></br>\r\n        <br></br>\r\n        <button type=\"submit\" className=\"btn2\" onClick={handleclick}>AddPost</button>\r\n        <br></br>\r\n        <br></br>\r\n        <input type=\"text\" onChange={(e)=>{setdescription(e.target.value)}} placeholder=\"Description..\" />\r\n    </div>\r\n    </div>\r\n    <br></br>\r\n    <center className=\"text1\"  style={{color:\"burlywood\",fontFamily:\"fantasy\",fontSize:\"larger\"}}>\r\n    <input type=\"text\"/>\r\n    {<center class=\"carousel\" >{text}</center>}</center>\r\n    \r\n    </div>);\r\n}\r\n\r\n\r\nexport default  Addpost;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}